# =============================================================================
# Localhost Tunnel - Server Environment Variables
# =============================================================================
# Copy this file to .env and update the values for your environment.
# Lines starting with # are comments.
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (Required)
# -----------------------------------------------------------------------------
# SQLite database path (relative to apps/server)
DATABASE_URL="file:./dev.db"

# -----------------------------------------------------------------------------
# Authentication (Required)
# -----------------------------------------------------------------------------
# NextAuth.js secret for session encryption
# Generate with: openssl rand -base64 32
# IMPORTANT: Must be at least 32 characters in production
AUTH_SECRET="your-super-secret-key-change-in-production-min-32-chars"

# Base URL for NextAuth.js callbacks
# In production, set to your actual domain (e.g., https://tunnels.example.com)
AUTH_URL="http://localhost:3000"

# Legacy NextAuth variable names (alternative to AUTH_SECRET/AUTH_URL)
# NEXTAUTH_SECRET="your-super-secret-key-here"
# NEXTAUTH_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# Tunnel Configuration (Required)
# -----------------------------------------------------------------------------
# Domain used for tunnel public URLs (without protocol)
# Example: tunnels.example.com -> creates URLs like subdomain.tunnels.example.com
TUNNEL_DOMAIN="localhost"

# WebSocket server port for CLI connections
TUNNEL_PORT=7000

# Client-side tunnel domain (for browser URLs)
# Should match TUNNEL_DOMAIN but may include port for local development
NEXT_PUBLIC_TUNNEL_DOMAIN="localhost:3000"

# -----------------------------------------------------------------------------
# Encryption (Required in Production)
# -----------------------------------------------------------------------------
# Master key for encrypting sensitive data (API keys, passwords)
# Generate with: openssl rand -hex 32
# IMPORTANT: Must be exactly 64 hex characters
# ENCRYPTION_MASTER_KEY="0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"

# -----------------------------------------------------------------------------
# OAuth Providers (Optional)
# -----------------------------------------------------------------------------
# Leave empty to disable OAuth provider

# GitHub OAuth
# Create app at: https://github.com/settings/developers
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# Google OAuth
# Create app at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# -----------------------------------------------------------------------------
# CORS Configuration (Optional)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
# Default: http://localhost:3000,http://localhost:3001
# CORS_ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# -----------------------------------------------------------------------------
# Data Retention (Optional)
# -----------------------------------------------------------------------------
# How long to keep various data types (in days)
# Uncomment to override defaults

# Request logs retention (default: 7 days)
# RETENTION_REQUEST_LOGS=7

# Health check results retention (default: 30 days)
# RETENTION_HEALTH_RESULTS=30

# Audit logs retention (default: 90 days)
# RETENTION_AUDIT_LOGS=90

# Inactive tunnel cleanup (default: 30 days)
# RETENTION_INACTIVE_TUNNELS=30

# Rate limit hit records retention (default: 1 day)
# RETENTION_RATE_LIMITS=1

# Expired session cleanup (default: 7 days)
# RETENTION_SESSIONS=7

# Expired invitation cleanup (default: 7 days)
# RETENTION_INVITATIONS=7

# -----------------------------------------------------------------------------
# Distributed Tracing (Optional)
# -----------------------------------------------------------------------------
# Sample rate for trace collection (0.0 to 1.0)
# Default: 1.0 (100% sampling)
# TRACE_SAMPLE_RATE=1.0

# Service name for tracing
# Default: localhost-tunnel
# SERVICE_NAME="localhost-tunnel"

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
# Options: development, production, test
NODE_ENV="development"
