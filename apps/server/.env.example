# =============================================================================
# Localhost Tunnel - Server Environment Variables
# =============================================================================
# Copy this file to .env and update the values for your environment.
# Lines starting with # are comments.
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (Required)
# -----------------------------------------------------------------------------
# SQLite database path (relative to apps/server)
DATABASE_URL="file:./dev.db"

# -----------------------------------------------------------------------------
# Authentication (Required)
# -----------------------------------------------------------------------------
# NextAuth.js secret for session encryption
# Generate with: openssl rand -base64 32
# IMPORTANT: Must be at least 32 characters in production
AUTH_SECRET="your-super-secret-key-change-in-production-min-32-chars"

# Base URL for NextAuth.js callbacks
# In production, set to your actual domain (e.g., https://tunnels.example.com)
AUTH_URL="http://localhost:3000"

# Legacy NextAuth variable names (alternative to AUTH_SECRET/AUTH_URL)
# NEXTAUTH_SECRET="your-super-secret-key-here"
# NEXTAUTH_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# Tunnel Configuration (Required)
# -----------------------------------------------------------------------------
# Domain used for tunnel public URLs (without protocol)
# Example: tunnels.example.com -> creates URLs like subdomain.tunnels.example.com
TUNNEL_DOMAIN="localhost"

# WebSocket server port for CLI connections
TUNNEL_PORT=7000

# Client-side tunnel domain (for browser URLs)
# Should match TUNNEL_DOMAIN but may include port for local development
NEXT_PUBLIC_TUNNEL_DOMAIN="localhost:3000"

# Request timeout in milliseconds (default: 30000, min: 5000, max: 300000)
# TUNNEL_REQUEST_TIMEOUT=30000

# -----------------------------------------------------------------------------
# Encryption (Required in Production)
# -----------------------------------------------------------------------------
# Master key for encrypting sensitive data (API keys, passwords)
# Generate with: openssl rand -hex 32
# IMPORTANT: Must be exactly 64 hex characters
# ENCRYPTION_MASTER_KEY="0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"

# -----------------------------------------------------------------------------
# OAuth Providers (Optional)
# -----------------------------------------------------------------------------
# Leave empty to disable OAuth provider

# GitHub OAuth
# Create app at: https://github.com/settings/developers
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# Google OAuth
# Create app at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# -----------------------------------------------------------------------------
# Firebase / FCM Push Notifications (Optional)
# -----------------------------------------------------------------------------
# Server-side: Firebase Admin SDK credentials
# Option 1: JSON string of service account (recommended for production)
# FIREBASE_SERVICE_ACCOUNT='{"type":"service_account","project_id":"..."}'

# Option 2: Path to service account JSON file (for development)
# FIREBASE_SERVICE_ACCOUNT_PATH="./firebase-service-account.json"

# Client-side: Firebase web app configuration
# Get these from Firebase Console > Project Settings > Web App
NEXT_PUBLIC_FIREBASE_API_KEY=""
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=""
NEXT_PUBLIC_FIREBASE_PROJECT_ID=""
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=""
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=""
NEXT_PUBLIC_FIREBASE_APP_ID=""

# VAPID key for web push notifications
# Get from Firebase Console > Project Settings > Cloud Messaging > Web Push certificates
NEXT_PUBLIC_FIREBASE_VAPID_KEY=""

# -----------------------------------------------------------------------------
# Email / SMTP Configuration (Optional)
# -----------------------------------------------------------------------------
# Required for password reset and team invitation emails
# Leave empty to disable email features

# SMTP server hostname
SMTP_HOST=""

# SMTP server port (typically 587 for TLS, 465 for SSL, 25 for no encryption)
SMTP_PORT=587

# SMTP authentication credentials
SMTP_USER=""
SMTP_PASS=""

# Enable TLS/SSL (true/false)
SMTP_SECURE=false

# Sender email address and name
# Format: "Name <email@example.com>" or just "email@example.com"
SMTP_FROM="Localhost Tunnel <noreply@example.com>"

# -----------------------------------------------------------------------------
# Payment Providers (Optional)
# -----------------------------------------------------------------------------
# Configure payment providers for subscription billing.
# Only configure the providers you plan to use.

# --- Stripe (International) ---
# Create account at: https://dashboard.stripe.com
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET=""

# Stripe Price IDs (create in Stripe Dashboard > Products)
STRIPE_PRICE_STARTER_MONTHLY=""
STRIPE_PRICE_STARTER_YEARLY=""
STRIPE_PRICE_PRO_MONTHLY=""
STRIPE_PRICE_PRO_YEARLY=""
STRIPE_PRICE_ENTERPRISE_MONTHLY=""
STRIPE_PRICE_ENTERPRISE_YEARLY=""

# --- Paymob (Egypt) ---
# Create account at: https://accept.paymob.com
# Get credentials from: https://accept.paymob.com/portal2/en/settings
PAYMOB_API_KEY=""
PAYMOB_INTEGRATION_ID_CARD=""
PAYMOB_INTEGRATION_ID_WALLET=""
PAYMOB_INTEGRATION_ID_KIOSK=""
PAYMOB_HMAC_SECRET=""
PAYMOB_IFRAME_ID_CARD=""
PAYMOB_IFRAME_ID_WALLET=""

# --- PayTabs (MENA Region) ---
# Create account at: https://site.paytabs.com
# Get credentials from your PayTabs dashboard
PAYTABS_PROFILE_ID=""
PAYTABS_SERVER_KEY=""
# Region: SAU (Saudi Arabia), ARE (UAE), EGY (Egypt), OMN (Oman), JOR (Jordan), GLO (Global)
PAYTABS_REGION="SAU"

# --- Paddle (EU - Merchant of Record) ---
# Create account at: https://paddle.com
# Get credentials from: https://vendors.paddle.com/authentication
PADDLE_VENDOR_ID=""
PADDLE_API_KEY=""
PADDLE_PUBLIC_KEY=""
PADDLE_WEBHOOK_SECRET=""
# Set to "true" for sandbox/testing mode
PADDLE_SANDBOX="true"

# Paddle Price IDs (create in Paddle Dashboard > Catalog > Prices)
PADDLE_PRICE_STARTER_MONTHLY=""
PADDLE_PRICE_STARTER_YEARLY=""
PADDLE_PRICE_PRO_MONTHLY=""
PADDLE_PRICE_PRO_YEARLY=""
PADDLE_PRICE_ENTERPRISE_MONTHLY=""
PADDLE_PRICE_ENTERPRISE_YEARLY=""

# -----------------------------------------------------------------------------
# CORS Configuration (Optional)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
# Default: http://localhost:3000,http://localhost:3001
# CORS_ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# -----------------------------------------------------------------------------
# Data Retention (Optional)
# -----------------------------------------------------------------------------
# How long to keep various data types (in days)
# Uncomment to override defaults

# Request logs retention (default: 7 days)
# RETENTION_REQUEST_LOGS=7

# Health check results retention (default: 30 days)
# RETENTION_HEALTH_RESULTS=30

# Audit logs retention (default: 90 days)
# RETENTION_AUDIT_LOGS=90

# Inactive tunnel cleanup (default: 30 days)
# RETENTION_INACTIVE_TUNNELS=30

# Rate limit hit records retention (default: 1 day)
# RETENTION_RATE_LIMITS=1

# Expired session cleanup (default: 7 days)
# RETENTION_SESSIONS=7

# Expired invitation cleanup (default: 7 days)
# RETENTION_INVITATIONS=7

# -----------------------------------------------------------------------------
# Distributed Tracing (Optional)
# -----------------------------------------------------------------------------
# Sample rate for trace collection (0.0 to 1.0)
# Default: 1.0 (100% sampling)
# TRACE_SAMPLE_RATE=1.0

# Service name for tracing
# Default: localhost-tunnel
# SERVICE_NAME="localhost-tunnel"

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
# Options: development, production, test
NODE_ENV="development"
